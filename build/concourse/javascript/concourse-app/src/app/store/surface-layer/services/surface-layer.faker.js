"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const faker = require("faker/locale/en_US");
const models_1 = require("@concourse/core/models");
exports.fakeOne = (i = 0, surfaceLayerParent) => (new models_1.SurfaceLayer().deserialize({
    id: i + 1001,
    created: faker.date.recent(30),
    updated: faker.date.recent(),
    version: faker.random.number(10),
    name: faker.name.jobArea(),
    description: faker.lorem.paragraph(),
    isRoot: (i === 0),
    depth: !!surfaceLayerParent ? surfaceLayerParent.depth + 1 : 0,
    parent: !!surfaceLayerParent ? surfaceLayerParent.id : undefined,
    isLeaf: true,
    children: []
}));
exports.fakeMany = (count = faker.random.number({ min: 5, max: 30 })) => {
    let surfaceLayers = [];
    for (let i = 0; i < count; i++) {
        let surfaceLayerParent;
        if (i > 0) {
            surfaceLayerParent = surfaceLayers[Math.floor(Math.random() * surfaceLayers.length)];
        }
        surfaceLayers.push(exports.fakeOne(i, surfaceLayerParent));
    }
    surfaceLayers = surfaceLayers.map(surfaceLayer => {
        surfaceLayer.children = surfaceLayers.filter(o => o.parent === surfaceLayer.id).map(o => o.id);
        surfaceLayer.isLeaf = surfaceLayer.children.length === 0;
        return surfaceLayer;
    });
    return surfaceLayers;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VyZmFjZS1sYXllci5mYWtlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2NvbmNvdXJzZS9qYXZhc2NyaXB0L2NvbmNvdXJzZS1hcHAvc3JjL2FwcC9zdG9yZS9zdXJmYWNlLWxheWVyL3NlcnZpY2VzL3N1cmZhY2UtbGF5ZXIuZmFrZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw0Q0FBNEM7QUFFNUMsbURBQXNEO0FBRXpDLFFBQUEsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxrQkFBaUMsRUFBTyxFQUFFLENBQUMsQ0FDeEUsSUFBSSxxQkFBWSxFQUFFLENBQUMsV0FBVyxDQUM1QjtJQUNFLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSTtJQUNaLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDOUIsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO0lBQzVCLE9BQU8sRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDaEMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO0lBQzFCLFdBQVcsRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRTtJQUNwQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUQsTUFBTSxFQUFFLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTO0lBQ2hFLE1BQU0sRUFBRSxJQUFJO0lBQ1osUUFBUSxFQUFFLEVBQUU7Q0FDYixDQUNGLENBQ0YsQ0FBQztBQUVXLFFBQUEsUUFBUSxHQUFHLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBUyxFQUFFO0lBQ2xGLElBQUksYUFBYSxHQUFtQixFQUFFLENBQUM7SUFDdkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUM5QixJQUFJLGtCQUFnQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNULGtCQUFrQixHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztTQUN0RjtRQUNELGFBQWEsQ0FBQyxJQUFJLENBQUMsZUFBTyxDQUFDLENBQUMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7S0FDcEQ7SUFDRCxhQUFhLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsRUFBRTtRQUMvQyxZQUFZLENBQUMsUUFBUSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0YsWUFBWSxDQUFDLE1BQU0sR0FBRyxZQUFZLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7UUFDekQsT0FBTyxZQUFZLENBQUM7SUFDdEIsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLGFBQWEsQ0FBQztBQUN2QixDQUFDLENBQUMifQ==