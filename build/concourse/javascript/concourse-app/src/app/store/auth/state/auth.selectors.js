"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const store_1 = require("@ngrx/store");
const enums_1 = require("@concourse/shared/enums");
const helpers_1 = require("@concourse/shared/helpers");
const fromAuth = require("./auth.reducer");
exports.getState = store_1.createFeatureSelector(enums_1.StoreNames.Auth);
exports.getIsAuthenticated = store_1.createSelector(exports.getState, fromAuth.isAuthenticated);
exports.isLoggingIn = store_1.createSelector(exports.getState, fromAuth.isLoggingIn);
exports.getAuthenticatedUserId = store_1.createSelector(exports.getState, fromAuth.authenticatedUserId);
exports.getUserInstitutionId = store_1.createSelector(exports.getState, fromAuth.userInstitutionId);
exports.getUserAccessToken = store_1.createSelector(exports.getState, fromAuth.userAccessToken);
exports.getToken = store_1.createSelector(exports.getState, fromAuth.getToken);
exports.getPermissions = store_1.createSelector(exports.getState, fromAuth.userPermissions);
exports.getAuthorities = store_1.createSelector(exports.getState, fromAuth.userAuthorities);
exports.hasPermissions = store_1.createSelector(exports.getPermissions, permissions => !helpers_1.Util.isNullOrUndefined(permissions));
exports.getIsLoggingIn = store_1.createSelector(exports.isLoggingIn, exports.getIsAuthenticated, (loggingIn, isAuthenticated) => loggingIn && !isAuthenticated);
exports.isSuccessResp = store_1.createSelector(exports.getState, fromAuth.isSuccessResp);
exports.getSecurityQuestions = store_1.createSelector(exports.getState, fromAuth.securityQuestions);
exports.userVerifyInfo = store_1.createSelector(exports.getToken, exports.getSecurityQuestions, (token, securityQuestions) => ({ token, securityQuestions }));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0aC5zZWxlY3RvcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9jb25jb3Vyc2UvamF2YXNjcmlwdC9jb25jb3Vyc2UtYXBwL3NyYy9hcHAvc3RvcmUvYXV0aC9zdGF0ZS9hdXRoLnNlbGVjdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUFvRTtBQUVwRSxtREFBcUQ7QUFDckQsdURBQWlEO0FBQ2pELDJDQUEyQztBQUU5QixRQUFBLFFBQVEsR0FBRyw2QkFBcUIsQ0FBaUIsa0JBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsRSxRQUFBLGtCQUFrQixHQUFHLHNCQUFjLENBQUMsZ0JBQVEsRUFBRSxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDeEUsUUFBQSxXQUFXLEdBQUcsc0JBQWMsQ0FBQyxnQkFBUSxFQUFFLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUM3RCxRQUFBLHNCQUFzQixHQUFHLHNCQUFjLENBQUMsZ0JBQVEsRUFBRSxRQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUNoRixRQUFBLG9CQUFvQixHQUFHLHNCQUFjLENBQUMsZ0JBQVEsRUFBRSxRQUFRLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUM1RSxRQUFBLGtCQUFrQixHQUFHLHNCQUFjLENBQUMsZ0JBQVEsRUFBRSxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDeEUsUUFBQSxRQUFRLEdBQUcsc0JBQWMsQ0FBQyxnQkFBUSxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN2RCxRQUFBLGNBQWMsR0FBRyxzQkFBYyxDQUFDLGdCQUFRLEVBQUUsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3BFLFFBQUEsY0FBYyxHQUFHLHNCQUFjLENBQUMsZ0JBQVEsRUFBRSxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDcEUsUUFBQSxjQUFjLEdBQUcsc0JBQWMsQ0FBQyxzQkFBYyxFQUFFLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxjQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztBQUNyRyxRQUFBLGNBQWMsR0FBRyxzQkFBYyxDQUFDLG1CQUFXLEVBQUUsMEJBQWtCLEVBQzFFLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxFQUFFLENBQUMsU0FBUyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDcEQsUUFBQSxhQUFhLEdBQUcsc0JBQWMsQ0FBQyxnQkFBUSxFQUFFLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNqRSxRQUFBLG9CQUFvQixHQUFHLHNCQUFjLENBQUMsZ0JBQVEsRUFBRSxRQUFRLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUM1RSxRQUFBLGNBQWMsR0FBRyxzQkFBYyxDQUFDLGdCQUFRLEVBQUUsNEJBQW9CLEVBQ3pFLENBQUMsS0FBSyxFQUFFLGlCQUFpQixFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDIn0=