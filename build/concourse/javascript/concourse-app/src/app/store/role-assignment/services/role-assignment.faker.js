"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const faker = require("faker/locale/en_US");
const models_1 = require("@concourse/core/models");
const helpers_1 = require("@concourse/shared/helpers");
exports.fakeOne = (i, role, group, surfaceLayers) => new models_1.RoleAssignment().deserialize({
    id: i + 10001,
    role,
    group: { id: group.id },
    responsibilitiesAssigned: [...role.responsibilities],
    surfaceLayersAppliedTo: [...surfaceLayers.map(o => ({ id: o.id }))]
});
exports.fakeMany = (roles, groups, surfaceLayers) => {
    const roleAssignments = [];
    groups.forEach((group, gi) => {
        const count = faker.random.number({ min: 1, max: 5 });
        for (let i = 0; i < count; i++) {
            const surfaceLayersSubset = helpers_1.sample(surfaceLayers, faker.random.number({ min: 1, max: 3 }));
            const role = faker.random.arrayElement(roles);
            roleAssignments.push(exports.fakeOne((gi + 10) * (i + 1), role, group, surfaceLayersSubset));
        }
    });
    return roleAssignments;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sZS1hc3NpZ25tZW50LmZha2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vY29uY291cnNlL2phdmFzY3JpcHQvY29uY291cnNlLWFwcC9zcmMvYXBwL3N0b3JlL3JvbGUtYXNzaWdubWVudC9zZXJ2aWNlcy9yb2xlLWFzc2lnbm1lbnQuZmFrZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw0Q0FBNEM7QUFFNUMsbURBQW1GO0FBQ25GLHVEQUFtRDtBQUV0QyxRQUFBLE9BQU8sR0FBRyxDQUFDLENBQVMsRUFBRSxJQUFVLEVBQUUsS0FBWSxFQUFFLGFBQTZCLEVBQWtCLEVBQUUsQ0FDNUcsSUFBSSx1QkFBYyxFQUFFLENBQUMsV0FBVyxDQUFDO0lBQy9CLEVBQUUsRUFBRSxDQUFDLEdBQUcsS0FBSztJQUNiLElBQUk7SUFDSixLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTtJQUN2Qix3QkFBd0IsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQ3BELHNCQUFzQixFQUFFLENBQUMsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3BFLENBQUMsQ0FBQztBQUVRLFFBQUEsUUFBUSxHQUFHLENBQUMsS0FBYSxFQUFFLE1BQWUsRUFBRSxhQUE2QixFQUFvQixFQUFFO0lBQzFHLE1BQU0sZUFBZSxHQUFxQixFQUFFLENBQUM7SUFFN0MsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRTtRQUMzQixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM5QixNQUFNLG1CQUFtQixHQUFHLGdCQUFNLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzNGLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzlDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZUFBTyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1NBQ3RGO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLGVBQWUsQ0FBQztBQUN6QixDQUFDLENBQUMifQ==